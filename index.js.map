{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nconst BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '46194524-ed8204bc29acf0aaf22e3d7ea';\n\nexport function fetchImages(params) {\n    const urlParams = new URLSearchParams({\n        q: params.q,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n        per_page: 15\n    });\n\n    return fetch(`${BASE_URL}?key=${API_KEY}&${urlParams}`)\n        .then(response => {\n            if (!response.ok) {\n                throw new Error('Something went wrong with the request');\n            }\n            return response.json();\n        });\n}","\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function renderGallery(images) {\n    const galleryEl = document.querySelector('.gallery');\n    const markupEl = images.reduce((acc, item) => {\n        return acc + `\n        <li class=\"gallery-el\">\n            <a href=\"${item.largeImageURL}\" class=\"gallery-item\">\n                <article class=\"gallery-card\">\n                    <img class=\"gallery-img\" src=\"${item.webformatURL}\" alt=\"${item.tags}\" />\n                    <ul class=\"list-statistics\">\n                        <li><h2 class=\"title-statistics\">Likes</h2><p class=\"data-statistics\">${item.likes}</p></li>\n                        <li><h2 class=\"title-statistics\">Views</h2><p class=\"data-statistics\">${item.views}</p></li>\n                        <li><h2 class=\"title-statistics\">Comments</h2><p class=\"data-statistics\">${item.comments}</p></li>\n                        <li><h2 class=\"title-statistics\">Downloads</h2><p class=\"data-statistics\">${item.downloads}</p></li>\n                    </ul>\n                </article>\n            </a>\n        </li>`;\n    }, '');\n\n    galleryEl.innerHTML = markupEl;\n\n\n    const lightbox = new SimpleLightbox('.gallery a');\n    lightbox.refresh();\n}","import { fetchImages } from './js/pixabay-api';\nimport { renderGallery } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n\nconst formEl = document.querySelector('form');\nconst loaderEl = document.querySelector('.loader');\nconst galleryEl = document.querySelector('.gallery');\n\n\nformEl.addEventListener('submit', event => {\n    event.preventDefault();\n    const query = event.target.elements.q.value.trim();\n\n    if (!query) {\n        iziToast.error({\n            message: 'Please enter a search query.',\n            title: '',\n            backgroundColor: 'rgba(239, 64, 64, 1)',\n            icon: 'my-custom-icon',\n            iconColor: 'rgba(255, 255, 255, 1)',\n            messageSize: '16px',\n            titleLineHeight: '1.5',\n            position: \"topRight\",\n            messageColor: 'rgba(255, 255, 255, 1)',\n            // theme: 'light',\n            // close: true,\n            maxWidth: '432px'\n        });\n        \n        return;\n    }\n    galleryEl.innerHTML = '';\n    loaderEl.style.display = 'block';   \n\n    fetchImages({ q: query })\n        .then(data => {\n            loaderEl.style.display = 'none';\n            const { hits } = data;\n\n            if (hits.length === 0) {\n                \n                iziToast.error({\n                    title: '',\n                    backgroundColor: 'rgba(239, 64, 64, 1)',\n                    message: 'Sorry, there are no images matching <br>your search query. Please try again!',\n                    icon: 'my-custom-icon',\n                    iconColor: 'rgba(255, 255, 255, 1)',\n                    messageSize: '16px',\n                    titleLineHeight: '1.5',\n                    position: \"topRight\",\n                    messageColor: 'rgba(255, 255, 255, 1)',\n                    // theme: 'light',\n                    // close: true,\n                    maxWidth: '432px'\n\n                });\n            return;\n            }\n            \n            renderGallery(hits);\n\n        })\n        .catch(error => {\n            loaderEl.style.display = 'none';\n            iziToast.error({\n                title: 'Error',\n                message: error.message,\n            });\n        });\n});"],"names":["BASE_URL","API_KEY","fetchImages","params","urlParams","response","renderGallery","images","galleryEl","markupEl","acc","item","SimpleLightbox","formEl","loaderEl","event","query","iziToast","data","hits","error"],"mappings":"6vBACA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAYC,EAAQ,CAChC,MAAMC,EAAY,IAAI,gBAAgB,CAClC,EAAGD,EAAO,EACV,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EAClB,CAAK,EAED,OAAO,MAAM,GAAGH,CAAQ,QAAQC,CAAO,IAAIG,CAAS,EAAE,EACjD,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,uCAAuC,EAE3D,OAAOA,EAAS,MAC5B,CAAS,CACT,CCfO,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAY,SAAS,cAAc,UAAU,EAC7CC,EAAWF,EAAO,OAAO,CAACG,EAAKC,IAC1BD,EAAM;AAAA;AAAA,uBAEEC,EAAK,aAAa;AAAA;AAAA,oDAEWA,EAAK,YAAY,UAAUA,EAAK,IAAI;AAAA;AAAA,gGAEQA,EAAK,KAAK;AAAA,gGACVA,EAAK,KAAK;AAAA,mGACPA,EAAK,QAAQ;AAAA,oGACZA,EAAK,SAAS;AAAA;AAAA;AAAA;AAAA,eAK3G,EAAE,EAELH,EAAU,UAAYC,EAGL,IAAIG,EAAe,YAAY,EACvC,QAAO,CACpB,CCvBA,MAAMC,EAAS,SAAS,cAAc,MAAM,EACtCC,EAAW,SAAS,cAAc,SAAS,EAC3CN,EAAY,SAAS,cAAc,UAAU,EAGnDK,EAAO,iBAAiB,SAAUE,GAAS,CACvCA,EAAM,eAAc,EACpB,MAAMC,EAAQD,EAAM,OAAO,SAAS,EAAE,MAAM,OAE5C,GAAI,CAACC,EAAO,CACRC,EAAS,MAAM,CACX,QAAS,+BACT,MAAO,GACP,gBAAiB,uBACjB,KAAM,iBACN,UAAW,yBACX,YAAa,OACb,gBAAiB,MACjB,SAAU,WACV,aAAc,yBAGd,SAAU,OACtB,CAAS,EAED,MACH,CACDT,EAAU,UAAY,GACtBM,EAAS,MAAM,QAAU,QAEzBZ,EAAY,CAAE,EAAGc,EAAO,EACnB,KAAKE,GAAQ,CACVJ,EAAS,MAAM,QAAU,OACzB,KAAM,CAAE,KAAAK,CAAM,EAAGD,EAEjB,GAAIC,EAAK,SAAW,EAAG,CAEnBF,EAAS,MAAM,CACX,MAAO,GACP,gBAAiB,uBACjB,QAAS,+EACT,KAAM,iBACN,UAAW,yBACX,YAAa,OACb,gBAAiB,MACjB,SAAU,WACV,aAAc,yBAGd,SAAU,OAE9B,CAAiB,EACL,MACC,CAEDX,EAAca,CAAI,CAE9B,CAAS,EACA,MAAMC,GAAS,CACZN,EAAS,MAAM,QAAU,OACzBG,EAAS,MAAM,CACX,MAAO,QACP,QAASG,EAAM,OAC/B,CAAa,CACb,CAAS,CACT,CAAC"}